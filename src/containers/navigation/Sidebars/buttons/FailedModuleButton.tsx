import { Alert, Button, DecorationWrapper, Wrapper } from './styles.ts';
import { useSetupStore } from '@app/store/useSetupStore.ts';
import { setupStoreSelectors } from '@app/store/selectors/setupStoreSelectors.ts';
import { setDialogToShow } from '@app/store';

export default function FailedModuleButton() {
    const isAnyModuleFailed = useSetupStore(setupStoreSelectors.isAnyModuleFailed);
    return isAnyModuleFailed ? (
        <Wrapper>
            <DecorationWrapper $side="right">
                <Alert />
            </DecorationWrapper>

            <Button
                type="button"
                $isActive={true}
                $isToggle={true}
                onClick={() => setDialogToShow('failedModuleInitialization')}
            >
                <svg width="33" height="36" viewBox="0 0 33 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clipPath="url(#clip0_14581_13559)">
                        <path
                            d="M32.2002 24.5581V16.3755C32.2002 15.9482 31.9501 15.5613 31.5621 15.388L30.393 14.8652C30.0771 14.7241 29.8735 14.4086 29.8735 14.0609V10.5802C29.8735 10.0211 29.4605 9.54986 28.9097 9.47903L28.7648 9.4603C28.3181 9.40293 27.9615 9.05813 27.8877 8.61089L27.7312 7.25571C27.6905 6.90096 27.4427 6.60593 27.1024 6.50465L24.0102 5.58793C23.6943 5.50188 23.475 5.21328 23.475 4.8837V3.50627C23.475 3.17846 23.2575 2.89044 22.9434 2.80322L14.4311 0.428869C14.1821 0.359207 13.9355 0.548289 13.9355 0.808203V2.37588C13.9355 2.64165 13.6789 2.83132 13.4271 2.7517L9.9335 1.6459C9.54901 1.52414 9.15637 1.80747 9.14648 2.21256L9.12438 3.15153C9.11507 3.5572 8.73582 3.85049 8.34376 3.75624L7.49625 3.55194C7.16062 3.47115 6.83837 3.72697 6.83837 4.07411V7.36693C6.83837 7.88559 6.34394 8.25966 5.84835 8.11565L5.19047 7.92364C4.85077 7.82471 4.51107 8.08111 4.51107 8.43703V16.3972C4.51107 16.9264 4.82052 17.4052 5.30099 17.6201L6.09673 17.976C6.40619 18.1141 6.60628 18.4226 6.60745 18.7633L6.60512 21.928C6.60512 22.4261 6.93261 22.864 7.40842 23.0004L8.31119 23.2597C8.7015 23.3721 8.96849 23.7339 8.96151 24.1425L8.94406 25.195C8.9365 25.6651 9.23839 26.0843 9.68454 26.223L12.8873 27.2176C13.3276 27.3546 13.6126 27.7825 13.5707 28.2444L13.5062 28.9597C13.4579 29.4959 13.7982 29.9906 14.3141 30.1334L22.2209 32.3228C22.421 32.3784 22.6234 32.242 22.649 32.0348L22.8206 30.6521C22.8579 30.3524 23.1487 30.1539 23.439 30.23L26.8051 31.0654C27.1553 31.152 27.4991 30.9026 27.5276 30.5409L27.6323 29.3964C27.6538 29.1599 27.876 28.9954 28.1064 29.0446L29.2988 29.2986C29.5047 29.3426 29.6996 29.1868 29.7037 28.9749L29.7455 26.6503C29.7508 26.3541 29.9282 26.0889 30.1987 25.9725L31.6924 25.3279C31.999 25.1956 32.1973 24.8924 32.1973 24.5576L32.2002 24.5581Z"
                            fill="black"
                        />
                        <path
                            opacity="0.14"
                            d="M29.5747 29.2375L29.5934 29.2229C29.5934 29.2229 29.5881 29.2288 29.5747 29.2375Z"
                            fill="black"
                        />
                        <path
                            opacity="0.14"
                            d="M6.60603 21.9266L6.71655 22.3914C6.5973 22.1409 6.60603 21.9266 6.60603 21.9266Z"
                            fill="black"
                        />
                        <path
                            opacity="0.14"
                            d="M13.6532 29.5966C13.5654 29.493 13.4921 29.3964 13.4729 29.342C13.4182 29.1828 13.4601 28.852 13.4601 28.852L13.5723 28.2444C13.5444 28.8028 13.5124 29.2618 13.6526 29.5966H13.6532Z"
                            fill="black"
                        />
                        <path opacity="0.14" d="M6.60804 18.9493L6.60629 21.9302L6.60804 18.9493Z" fill="black" />
                        <path
                            opacity="0.14"
                            d="M6.76126 22.4788L6.95787 22.7287C6.87411 22.6479 6.81013 22.5625 6.76126 22.4788Z"
                            fill="black"
                        />
                        <path
                            d="M4.92146 17.3635L5.4886 17.7042L6.24187 18.0589L6.53504 18.4184L6.60775 18.9417L2.36265 21.7493C2.36265 21.7493 2.36032 23.3556 2.3609 24.6575C2.36148 25.9594 3.29333 26.0238 3.29333 26.0238L7.27145 22.9487C7.18885 22.9066 7.11672 22.8592 7.05332 22.81L7.41047 23.0014L8.31324 23.2607L8.82861 23.6524C8.82861 23.6524 8.96879 23.8409 8.95076 24.9156C8.93331 25.9898 9.45159 26.0484 9.68659 26.224C9.68659 26.224 8.7716 26.0765 8.93971 24.6575L4.71322 27.3772C4.71322 27.3772 4.57187 28.4982 4.94938 28.8828C5.32689 29.2674 5.4409 29.2089 5.4409 29.2089L9.68717 26.2234C9.92217 26.399 12.8899 27.218 12.8899 27.218C12.8899 27.218 13.6182 27.3392 13.5734 28.2448L9.32711 31.2303L9.26254 31.9456C9.24277 32.9261 10.0705 33.1193 10.0705 33.1193L14.0451 30.0179C14.0806 30.0367 14.1184 30.0542 14.1591 30.0706C14.9252 30.3779 21.0067 31.9866 21.0067 31.9866L22.2236 32.3238C22.2236 32.3238 22.5673 32.658 22.7017 31.6359C22.8361 30.6138 22.7686 30.1988 23.4422 30.231C24.1158 30.2632 26.8084 31.0664 26.8084 31.0664C26.8084 31.0664 27.4982 31.2338 27.5523 30.3094C27.6058 29.3845 27.7175 29.1908 27.7175 29.1908C27.7175 29.1908 27.8507 28.939 28.3149 29.0895C29.2293 29.3851 29.5085 29.2792 29.576 29.2364L22.8942 34.478L20.742 33.5414L18.1826 35.4146L9.88843 33.1527C9.46206 33.0368 9.16657 32.6475 9.16657 32.2032V31.0921C9.16657 30.6437 8.86758 30.2509 8.43772 30.1338L5.27221 29.268C4.8854 29.1621 4.60328 28.8266 4.56431 28.4251L4.45321 27.2888C4.41947 26.9429 4.17982 26.6519 3.84826 26.5542L2.84777 26.2597C2.42256 26.1344 2.13172 25.7393 2.13695 25.2932L2.18 21.6322C2.18349 21.3301 2.00026 21.0585 1.72047 20.9502L0.724052 20.4204L4.92204 17.3629L4.92146 17.3635Z"
                            fill="black"
                        />
                        <path
                            d="M0.945591 10.9067L1.60347 11.0987C2.09848 11.2433 2.59349 10.8693 2.59349 10.35V7.0572C2.59349 6.71007 2.91574 6.45425 3.25137 6.53503L4.09888 6.73934C4.49094 6.83417 4.86961 6.5403 4.8795 6.13463L4.9016 5.19566C4.91091 4.78998 5.30412 4.50724 5.68862 4.629L6.84034 4.9937V7.36453C6.84034 7.88319 6.34591 8.25726 5.85032 8.11325L5.19244 7.92124C4.85274 7.82231 4.51304 8.07871 4.51304 8.43463V16.3948C4.51304 16.924 4.82249 17.4028 5.30296 17.6177L6.0987 17.9736C6.40815 18.1117 6.60825 18.4202 6.60941 18.7609L6.60709 21.9256C6.60709 22.4237 6.93458 22.8616 7.41039 22.998L8.31316 23.2573C8.70347 23.3697 8.97046 23.7315 8.96348 24.1401L8.94603 25.1926C8.93846 25.6627 9.24036 26.0819 9.68651 26.2206L12.8892 27.2152C13.3296 27.3522 13.6146 27.7801 13.5727 28.242L13.5081 28.9573C13.4599 29.4935 13.8002 29.9882 14.3161 30.131L22.2229 32.3204C22.423 32.376 22.6254 32.2396 22.651 32.0324L22.8226 30.6497C22.8598 30.3499 23.1507 30.1515 23.4409 30.2276L25.4815 30.734L25.4594 31.958C25.4553 32.1699 25.261 32.3256 25.0545 32.2817L23.8621 32.0277C23.6311 31.9785 23.4095 32.143 23.3874 32.3795L23.2827 33.5239C23.2542 33.8857 22.9104 34.1351 22.5603 34.0485L19.1941 33.2131C18.9038 33.137 18.613 33.3354 18.5757 33.6352L18.4042 35.0179C18.3786 35.2251 18.1761 35.3615 17.976 35.3059L10.0693 33.1165C9.5533 32.9737 9.21302 32.4796 9.2613 31.9428L9.32586 31.2275C9.36774 30.7656 9.08272 30.3377 8.64239 30.2007L5.43966 29.2061C4.99293 29.0674 4.69103 28.6482 4.69918 28.1781L4.71663 27.1256C4.72361 26.717 4.45661 26.3552 4.06631 26.2428L3.16354 25.9835C2.68772 25.8465 2.35966 25.4087 2.36024 24.9111L2.36256 21.7464C2.36082 21.4057 2.1613 21.0978 1.85185 20.9591L1.05611 20.6032C0.575643 20.3883 0.266188 19.9089 0.266188 19.3803V11.4201C0.266188 11.0642 0.605308 10.8072 0.945591 10.9067Z"
                            stroke="black"
                            strokeWidth="0.966669"
                            strokeMiterlimit="10"
                        />
                        <path
                            d="M28.4965 22.3703V16.3765C28.4965 16.0639 28.3133 15.78 28.0294 15.6529L27.1726 15.2701C26.9411 15.1665 26.7922 14.9358 26.7922 14.6806V12.1312C26.7922 11.722 26.4897 11.3766 26.0866 11.3245L25.9802 11.3111C25.6527 11.2689 25.3915 11.016 25.3374 10.6888L25.2228 9.69598C25.1926 9.43606 25.0117 9.22005 24.7627 9.14571L22.4976 8.47426C22.2661 8.41104 22.1056 8.19972 22.1056 7.95853V6.94932C22.1056 6.70931 21.9462 6.49857 21.7164 6.43417L15.4814 4.69497C15.2988 4.64405 15.1184 4.7822 15.1184 4.97304V6.12157C15.1184 6.31651 14.9305 6.45525 14.7462 6.39671L12.1873 5.58653C11.9058 5.49755 11.6179 5.70478 11.6109 6.00157L11.5946 6.6894C11.5876 6.98678 11.3102 7.20162 11.0228 7.13196L10.4022 6.9821C10.1567 6.92298 9.92053 7.1103 9.92053 7.36436V9.77618C9.92053 10.1561 9.55815 10.4301 9.19576 10.3247L8.71413 10.1842C8.46517 10.1116 8.21679 10.2995 8.21679 10.5606V16.3917C8.21679 16.7792 8.44365 17.1305 8.79556 17.2873L9.37841 17.5478C9.60526 17.6491 9.75126 17.8751 9.75243 18.1244L9.75068 20.4426C9.75068 20.8073 9.99092 21.1281 10.3393 21.2282L11.0007 21.4185C11.2863 21.5004 11.4818 21.7656 11.4771 22.0647L11.4643 22.8357C11.4585 23.1799 11.6795 23.4872 12.007 23.5885L14.3529 24.3173C14.6752 24.4174 14.884 24.7312 14.8538 25.0695L14.8067 25.5935C14.7712 25.9863 15.0201 26.3486 15.3982 26.4528L21.19 28.0568C21.3366 28.0972 21.4849 27.9977 21.5035 27.8461L21.6292 26.8333C21.6565 26.6138 21.8694 26.4686 22.0823 26.5242L24.5481 27.1366C24.8046 27.2004 25.0564 27.0171 25.0774 26.7525L25.1542 25.9143C25.1699 25.741 25.3327 25.6204 25.5014 25.6567L26.3751 25.8428C26.5258 25.875 26.6689 25.7609 26.6718 25.6058L26.7026 23.9029C26.7067 23.6863 26.8364 23.4919 27.0347 23.4064L28.1289 22.9346C28.3534 22.838 28.4988 22.6156 28.4988 22.3703H28.4965Z"
                            fill="#FAFAFA"
                        />
                        <path
                            d="M24.9658 20.2851V16.3788C24.9658 16.1751 24.8466 15.9901 24.661 15.907L24.1026 15.6576C23.952 15.5903 23.8548 15.4398 23.8548 15.2736V13.6117C23.8548 13.3447 23.6576 13.1199 23.3947 13.086L23.3255 13.0772C23.112 13.0497 22.9422 12.8852 22.9067 12.6715L22.8316 12.0247C22.8119 11.8555 22.6938 11.7144 22.5315 11.6664L21.0552 11.2285C20.9045 11.1876 20.7998 11.0494 20.7998 10.8925V10.2351C20.7998 10.0782 20.6963 9.94126 20.5462 9.89911L16.482 8.76579C16.3628 8.73242 16.2453 8.82257 16.2453 8.94667V9.69539C16.2453 9.82242 16.1225 9.91257 16.0027 9.87452L14.335 9.3465C14.1518 9.28854 13.9639 9.42377 13.9593 9.61695L13.9488 10.0654C13.9442 10.2591 13.7632 10.399 13.5759 10.354L13.1717 10.2562C13.0117 10.2176 12.8576 10.3399 12.8576 10.5056V12.0774C12.8576 12.325 12.6214 12.5035 12.3852 12.4344L12.0711 12.3431C11.9088 12.2957 11.7466 12.418 11.7466 12.5884V16.3888C11.7466 16.6411 11.8943 16.87 12.1235 16.9724L12.5033 17.1422C12.6511 17.2083 12.7465 17.3552 12.7471 17.518L12.7459 19.0289C12.7459 19.2665 12.9024 19.4755 13.1298 19.5411L13.5608 19.6652C13.747 19.7185 13.8743 19.8917 13.8714 20.0867L13.8633 20.5895C13.8598 20.8143 14.0035 21.0139 14.217 21.0801L15.7462 21.5548C15.9562 21.6204 16.0923 21.8247 16.0725 22.0448L16.0417 22.3867C16.0184 22.6425 16.1813 22.879 16.4273 22.9469L20.2019 23.9924C20.2973 24.0188 20.3938 23.9538 20.4066 23.8549L20.4886 23.1945C20.5067 23.0517 20.6451 22.9569 20.7841 22.9932L22.3913 23.3924C22.5583 23.434 22.7223 23.3145 22.7363 23.1418L22.7863 22.5957C22.7967 22.4827 22.9026 22.4042 23.0126 22.4277L23.582 22.5488C23.6803 22.5699 23.7734 22.4956 23.7751 22.3943L23.7949 21.2844C23.7972 21.1433 23.8822 21.0163 24.0113 20.9607L24.7244 20.6533C24.8704 20.5901 24.9653 20.4455 24.9653 20.2851H24.9658Z"
                            stroke="black"
                            strokeWidth="0.966669"
                            strokeMiterlimit="10"
                        />
                    </g>
                    <defs>
                        <clipPath id="clip0_14581_13559">
                            <rect width="32" height="35" fill="white" transform="matrix(-1 0 0 1 32.2002 0.415283)" />
                        </clipPath>
                    </defs>
                </svg>
            </Button>
        </Wrapper>
    ) : null;
}
